var X=Object.defineProperty;var Y=s=>{throw TypeError(s)};var k=(s,e,r)=>e in s?X(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var F=(s,e,r)=>k(s,typeof e!="symbol"?e+"":e,r),j=(s,e,r)=>e.has(s)||Y("Cannot "+r);var i=(s,e,r)=>(j(s,e,"read from private field"),r?r.call(s):e.get(s)),p=(s,e,r)=>e.has(s)?Y("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,r),C=(s,e,r,t)=>(j(s,e,"write to private field"),t?t.call(s,r):e.set(s,r),r);import{K,Y as ee,a1 as T,Z as se,L as U,N as H,h as D,F as re,a6 as te,O as ie,i as ne,g as ae,E as fe,A as ue,H as ce,B as oe,C as le,D as Z,a7 as I,a8 as de,a9 as z,v as O,aa as he,ab as _e,ac as L,ad as pe,W as ve,ae as be,u as me,af as Pe,ag as Se,ah as ge,y as we,P as ye,ai as $,aj as q,ak as Ae,al as Ee,S as G,am as W,an as g}from"./BC4EkEQe.js";var d,h,l,v,w,y,R;class Oe{constructor(e,r=!0){F(this,"anchor");p(this,d,new Map);p(this,h,new Map);p(this,l,new Map);p(this,v,new Set);p(this,w,!0);p(this,y,()=>{var e=K;if(i(this,d).has(e)){var r=i(this,d).get(e),t=i(this,h).get(r);if(t)ee(t),i(this,v).delete(r);else{var n=i(this,l).get(r);n&&(i(this,h).set(r,n.effect),i(this,l).delete(r),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),t=n.effect)}for(const[a,u]of i(this,d)){if(i(this,d).delete(a),a===e)break;const f=i(this,l).get(u);f&&(T(f.effect),i(this,l).delete(u))}for(const[a,u]of i(this,h)){if(a===r||i(this,v).has(a))continue;const f=()=>{if(Array.from(i(this,d).values()).includes(a)){var _=document.createDocumentFragment();te(u,_),_.append(U()),i(this,l).set(a,{effect:u,fragment:_})}else T(u);i(this,v).delete(a),i(this,h).delete(a)};i(this,w)||!t?(i(this,v).add(a),se(u,f,!1)):f()}}});p(this,R,e=>{i(this,d).delete(e);const r=Array.from(i(this,d).values());for(const[t,n]of i(this,l))r.includes(t)||(T(n.effect),i(this,l).delete(t))});this.anchor=e,C(this,w,r)}ensure(e,r){var t=K,n=ie();if(r&&!i(this,h).has(e)&&!i(this,l).has(e))if(n){var a=document.createDocumentFragment(),u=U();a.append(u),i(this,l).set(e,{effect:H(()=>r(u)),fragment:a})}else i(this,h).set(e,H(()=>r(this.anchor)));if(i(this,d).set(t,e),n){for(const[f,c]of i(this,h))f===e?t.unskip_effect(c):t.skip_effect(c);for(const[f,c]of i(this,l))f===e?t.unskip_effect(c.effect):t.skip_effect(c.effect);t.oncommit(i(this,y)),t.ondiscard(i(this,R))}else D&&(this.anchor=re),i(this,y).call(this)}}d=new WeakMap,h=new WeakMap,l=new WeakMap,v=new WeakMap,w=new WeakMap,y=new WeakMap,R=new WeakMap;function Be(s,e,r=!1){D&&ae();var t=new Oe(s),n=r?fe:0;function a(u,f){if(D){const _=ue(s)===ce;if(u===_){var c=oe();le(c),t.anchor=c,Z(!1),t.ensure(u,f),Z(!0);return}}t.ensure(u,f)}ne(()=>{var u=!1;e((f,c=!0)=>{u=!0,a(c,f)}),u||a(!1,null)},n)}let E=!1;function Re(s){var e=E;try{return E=!1,[s(),E]}finally{E=e}}const xe={get(s,e){if(!s.exclude.includes(e))return O(s.version),e in s.special?s.special[e]():s.props[e]},set(s,e,r){if(!(e in s.special)){var t=L;try{q(s.parent_effect),s.special[e]=De({get[e](){return s.props[e]}},e,z)}finally{q(t)}}return s.special[e](r),$(s.version),!0},getOwnPropertyDescriptor(s,e){if(!s.exclude.includes(e)&&e in s.props)return{enumerable:!0,configurable:!0,value:s.props[e]}},deleteProperty(s,e){return s.exclude.includes(e)||(s.exclude.push(e),$(s.version)),!0},has(s,e){return s.exclude.includes(e)?!1:e in s.props},ownKeys(s){return Reflect.ownKeys(s.props).filter(e=>!s.exclude.includes(e))}};function Me(s,e){return new Proxy({props:s,exclude:e,special:{},version:ve(0),parent_effect:L},xe)}const Te={get(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(g(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t)return t[e]}},set(s,e,r){let t=s.props.length;for(;t--;){let n=s.props[t];g(n)&&(n=n());const a=I(n,e);if(a&&a.set)return a.set(r),!0}return!1},getOwnPropertyDescriptor(s,e){let r=s.props.length;for(;r--;){let t=s.props[r];if(g(t)&&(t=t()),typeof t=="object"&&t!==null&&e in t){const n=I(t,e);return n&&!n.configurable&&(n.configurable=!0),n}}},has(s,e){if(e===G||e===W)return!1;for(let r of s.props)if(g(r)&&(r=r()),r!=null&&e in r)return!0;return!1},ownKeys(s){const e=[];for(let r of s.props)if(g(r)&&(r=r()),!!r){for(const t in r)e.includes(t)||e.push(t);for(const t of Object.getOwnPropertySymbols(r))e.includes(t)||e.push(t)}return e}};function Ne(...s){return new Proxy({props:s},Te)}function De(s,e,r,t){var M;var n=!Pe||(r&Se)!==0,a=(r&be)!==0,u=(r&Ae)!==0,f=t,c=!0,_=()=>(c&&(c=!1,f=u?me(t):t),f),m;if(a){var J=G in s||W in s;m=((M=I(s,e))==null?void 0:M.set)??(J&&e in s?o=>s[e]=o:void 0)}var P,B=!1;a?[P,B]=Re(()=>s[e]):P=s[e],P===void 0&&t!==void 0&&(P=_(),m&&(n&&de(),m(P)));var b;if(n?b=()=>{var o=s[e];return o===void 0?_():(c=!0,o)}:b=()=>{var o=s[e];return o!==void 0&&(f=void 0),o===void 0?f:o},n&&(r&z)===0)return b;if(m){var Q=s.$$legacy;return(function(o,A){return arguments.length>0?((!n||!A||Q||B)&&m(A?b():o),o):b()})}var x=!1,S=((r&ge)!==0?we:ye)(()=>(x=!1,b()));a&&O(S);var V=L;return(function(o,A){if(arguments.length>0){const N=A?O(S):n&&a?he(o):o;return _e(S,N),x=!0,f!==void 0&&(f=N),o}return Ee&&x||(V.f&pe)!==0?S.v:O(S)})}export{Oe as B,Be as i,Me as l,De as p,Ne as s};
